"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[449],{6449:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(5861),i=n(885),c=n(7757),o=n.n(c),a=n(2791),s=n(4569),u=n.n(s),d=n(6871),p=n(501),l=n(1163),f="68e1fd0d7aa4e116327801ed4f6bf747";function h(){var t=(0,a.useState)([]),e=(0,i.Z)(t,2),n=e[0],c=e[1],s=(0,a.useState)([]),h=(0,i.Z)(s,2),m=h[0],g=h[1],x="",v=[],w=[],B=[],Z=(0,d.UO)(),_=[],y=(0,d.s0)(),b=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(f)).then((function(t){w=t.data.results})).catch((function(t){return t.status_message}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("https://api.themoviedb.org/3/search/movie?api_key=".concat(f,"&language=en-US&query=").concat(localStorage.getItem("query"),"&page=1&include_adult=false")).then((function(t){B=t.data.results})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(f)).then((function(t){v=t.data.genres})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=(0,r.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return t.next=4,k();case 4:return t.next=6,b();case 6:x=void 0===w.find((function(t){return t.id===e}))?B.find((function(t){return t.id===e})):w.find((function(t){return t.id===e})),_=x.genre_ids,c(_.map((function(t){return v.find((function(e){return t===e.id})).name}))),g(x);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,a.useEffect)((function(){X(parseInt(Z.movieId,10))}),[]),(0,l.BX)(l.HY,{children:[(0,l.BX)("div",{css:{width:"100%",display:"flex",padding:"0 20px",borderBottom:"solid 2px"},children:[(0,l.BX)("div",{css:{width:"200px",marginBottom:"30px"},children:[(0,l.tZ)("button",{onClick:function(){y(-1)},type:"button",css:{marginBottom:"10px"},children:"\u2190 Go back"}),(0,l.tZ)("img",{css:{objectFit:"contain"},src:void 0!==m.poster_path?"https://image.tmdb.org/t/p/w500/".concat(m.poster_path):"",alt:"".concat(m.title," poster"),width:"200px",height:"300px"})]}),(0,l.BX)("div",{css:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,l.tZ)("h2",{css:{marginLeft:"20px",marginBottom:"20px",paddingTop:"40px"},children:"".concat(m.title," (").concat(new Date(m.release_date).getFullYear(),")")}),(0,l.BX)("p",{css:{marginLeft:"20px",marginBottom:"20px"},children:["User score: ",10*m.vote_average," %"]}),(0,l.tZ)("h3",{css:{marginLeft:"20px",marginBottom:"20px"},children:"Overwiew"}),(0,l.tZ)("p",{css:{marginLeft:"20px",marginBottom:"20px"},children:m.overview}),(0,l.tZ)("h4",{css:{marginLeft:"20px",marginBottom:"20px"},children:"Genres"}),(0,l.tZ)("p",{css:{marginLeft:"20px",marginBottom:"20px"},children:n.join(" ")})]})]}),(0,l.BX)("div",{css:{width:"100%",paddingTop:"30px",paddingBottom:"30px",marginBottom:"30px",paddingLeft:"20px",borderBottom:"solid 2px"},children:[(0,l.tZ)("p",{css:{marginBottom:"30px"},children:"Additional informations"}),(0,l.BX)("ul",{children:[(0,l.tZ)("li",{children:(0,l.tZ)(p.OL,{style:function(t){return{color:t.isActive?"red":""}},to:"cast",children:"cast"})}),(0,l.tZ)("li",{children:(0,l.tZ)(p.OL,{style:function(t){return{color:t.isActive?"red":""}},to:"review",children:"reviews"})})]})]}),(0,l.tZ)("div",{css:{backgroundColor:"#e0e0e0"},children:(0,l.tZ)(d.j3,{})})]})}}}]);
//# sourceMappingURL=449.6cc63e5d.chunk.js.map